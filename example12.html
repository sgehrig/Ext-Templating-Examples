<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>ExtJS Templating Magic [Example 11]</title>
		<script src="ext-3.3.1/adapter/ext/ext-base.js"></script>
    	<script src="ext-3.3.1/ext-all.js"></script>
    	<link rel="stylesheet" type="text/css" href="ext-3.3.1/resources/css/ext-all.css" />
    	<link rel="stylesheet" type="text/css" href="examples.css" />
    	<script>
Ext.onReady(function() {
	var store = new Ext.data.ArrayStore({
		idIndex: 0,
		fields: [
			{ name: 'id', type: 'int', mapping: 0 },
			{ name: 'login', type: 'string', mapping: 1 },
			{ name: 'nick', type: 'string', mapping: 2, useNull: true },
			{ name: 'email', type: 'string', mapping: 3 },
			{ name: 'gravatar', type: 'string', mapping: 4 }
		],
		data: [
			[1, 'john', 'Johnny', 'john@example.com', 'd4c74594d841139328695756648b6bd6'],
			[2, 'jack', null, 'jack@example.com', 'ee5770a649fccbde3e448d90591673ca'],
			[3, 'jane', 'LA69', 'jane@example.com', '9e26471d35a78862c17e467d87cddedf'],
			[4, 'jim', 'Jimmy', 'jim@example.com', 'db40f846ab0a3b10522f83c6ae657e31']
		]
	});

	var listView = new Ext.list.ListView({
		store: store,
		multiSelect: true,
		simpleSelect: true,
		columns: [{
			header: '&nbsp;',
			tpl: '<img src="http://www.gravatar.com/avatar/{gravatar}?s=30&d=identicon"/>'
		}, {
			header: 'Login',
			dataIndex: 'login'
		}, {
			header: 'Email',
			dataIndex: 'email'
		}, {
			header: 'Nickname',
			tpl: '<tpl if="nick">{nick}</tpl><tpl if="!nick"><i>none</i></tpl>'
		}],
		listeners: {
			selectionchange: function(view, selected) {
				Ext.get('status').update(String.format('{0} selected', selected.length));
			}
		}
	});
	listView.render('list');
});
    	</script>
	</head>
	<body id="example11">
		<h1>ExtJS Templating Magic [Example 11]</h1>
		<div id="list"></div>
		<div id="status">0 selected</div>
	</body>
</html>
